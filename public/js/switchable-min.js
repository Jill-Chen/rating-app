/*publish time:2011-08-25 16:25:44*/
KISSY.add("switchable/base",function(D,O,R,E){var N="display",Q="block",H=D.makeArray,G="none",F=R.Target,J="forward",I="backward",M=".",P="init",B="beforeSwitch",L="switch",A="ks-switchable-";function C(S,U){var T=this;U=U||{};if(!("markupType" in U)){if(U.panelCls){U.markupType=1}else{if(U.panels){U.markupType=2}}}var V=this.constructor;while(V){U=D.merge(V.Config,U);V=V.superclass?V.superclass.constructor:null}T.container=O.get(S);T.config=U;T.activeIndex=T.completedIndex=U.activeIndex;if(T.activeIndex>-1){}else{if(typeof U.switchTo=="number"){}else{T.completedIndex=T.activeIndex=0}}T._init();T._initPlugins();T.fire(P);if(T.activeIndex>-1){}else{if(typeof U.switchTo=="number"){T.switchTo(U.switchTo)}}}function K(T){var S={};S.type=T.originalEvent.type;S.target=T.originalEvent.target||T.originalEvent.srcElement;return{originalEvent:S}}C.getDomEvent=K;C.Config={markupType:0,navCls:A+"nav",contentCls:A+"content",triggerCls:A+"trigger",panelCls:A+"panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",steps:1,viewSize:[]};C.Plugins=[];D.augment(C,F,{_initPlugins:function(){var S=this,T=S.constructor;while(T){D.each(T.Plugins,function(U){if(U.init){U.init(S)}});T=T.superclass?T.superclass.constructor:null}},_init:function(){var T=this,S=T.config;T._parseMarkup();if(S.hasTriggers){T._bindTriggers()}},_parseMarkup:function(){var U=this,T=U.container,S=U.config,Y,X,W=[],V=[],Z;switch(S.markupType){case 0:Y=O.get(M+S.navCls,T);if(Y){W=O.children(Y)}X=O.get(M+S.contentCls,T);V=O.children(X);break;case 1:W=O.query(M+S.triggerCls,T);V=O.query(M+S.panelCls,T);break;case 2:W=S.triggers;V=S.panels;break}Z=V.length;U.length=Z/S.steps;if(S.hasTriggers&&Z>0&&W.length===0){W=U._generateTriggersMarkup(U.length)}U.triggers=H(W);U.panels=H(V);U.content=X||V[0].parentNode;U.nav=Y||S.hasTriggers&&W[0].parentNode},_generateTriggersMarkup:function(T){var V=this,U=V.config,X=O.create("<ul>"),S,W;X.className=U.navCls;for(W=0;W<T;W++){S=O.create("<li>");if(W===V.activeIndex){S.className=U.activeTriggerCls}S.innerHTML=W+1;X.appendChild(S)}V.container.appendChild(X);return O.children(X)},_bindTriggers:function(){var U=this,T=U.config,X=U.triggers,V,W,S=X.length;for(W=0;W<S;W++){(function(Y){V=X[Y];R.on(V,"click",function(Z){U._onFocusTrigger(Y,Z)});if(T.triggerType==="mouse"){R.on(V,"mouseenter",function(Z){U._onMouseEnterTrigger(Y,Z)});R.on(V,"mouseleave",function(){U._onMouseLeaveTrigger(Y)})}})(W)}},_onFocusTrigger:function(T,U){var S=this;if(!S._triggerIsValid(T)){return }this._cancelSwitchTimer();S.switchTo(T,E,K(U))},_onMouseEnterTrigger:function(T,V){var S=this;if(!S._triggerIsValid(T)){return }var U=K(V);S.switchTimer=D.later(function(){S.switchTo(T,E,U)},S.config.delay*1000)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(S){return this.activeIndex!==S},_cancelSwitchTimer:function(){var S=this;if(S.switchTimer){S.switchTimer.cancel();S.switchTimer=E}},switchTo:function(T,a,Y,c){var d=this,U=d.config,W=d.triggers,V=d.panels,b=d.activeIndex,X=U.steps,Z=b*X,S=T*X;if(!d._triggerIsValid(T)){return d}if(d.fire(B,{toIndex:T})===false){return d}if(U.hasTriggers){d._switchTrigger(b>-1?W[b]:null,W[T])}if(a===E){a=T>b?J:I}d._switchView(b>-1?V.slice(Z,Z+X):null,V.slice(S,S+X),T,a,Y,function(){c&&c.call(d,T);d.completedIndex=T});d.activeIndex=T;return d},_switchTrigger:function(U,S){var T=this.config.activeTriggerCls;if(U){O.removeClass(U,T)}O.addClass(S,T)},_switchView:function(W,V,S,U,T,X){if(W){O.css(W,N,G)}O.css(V,N,Q);this._fireOnSwitch(S,T);X&&X.call(this)},_fireOnSwitch:function(S,T){this.fire(L,D.mix(T||{},{currentIndex:S}))},prev:function(U){var T=this,S=T.activeIndex;T.switchTo(S>0?S-1:T.length-1,I,U)},next:function(U){var T=this,S=T.activeIndex;T.switchTo(S<T.length-1?S+1:0,J,U)}});return C},{requires:["dom","event"]});KISSY.add("switchable/aria",function(D,G,B,A){A.Plugins.push({name:"aria",init:function(J){if(!J.config.aria){return }var I=J.container;B.on(I,"focusin",H,J);B.on(I,"focusout",C,J)}});function H(){this.stop&&this.stop()}function C(){this.start&&this.start()}var E=["a","input","button","object"];var F="oriTabIndex";return{setTabIndex:function(I,J){I.tabIndex=J;G.query("*",I).each(function(L){var K=L.nodeName.toLowerCase();if(D.inArray(K,E)){if(!G.hasAttr(L,F)){G.attr(L,F,L.tabIndex)}if(J!=-1){L.tabIndex=G.attr(L,F)}else{L.tabIndex=J}}})}}},{requires:["dom","event","./base"]});KISSY.add("switchable/accordion/base",function(C,D,B){function A(E,G){var F=this;if(!(F instanceof A)){return new A(E,G)}A.superclass.constructor.apply(F,arguments)}C.extend(A,B,{_switchTrigger:function(H,E){var G=this,F=G.config;if(F.multiple){D.toggleClass(E,F.activeTriggerCls)}else{A.superclass._switchTrigger.apply(G,arguments)}},_triggerIsValid:function(E){return this.config.multiple||A.superclass._triggerIsValid.call(this,E)},_switchView:function(F,G,H,K,J,L){var M=this,I=M.config,E=G[0];if(I.multiple){D.toggle(E);this._fireOnSwitch(H,J);L&&L.call(this)}else{A.superclass._switchView.apply(M,arguments)}}});A.Plugins=[];A.Config={markupType:1,triggerType:"click",multiple:false};return A},{requires:["dom","../base"]});KISSY.add("switchable/accordion/aria",function(G,Z,d,M,A){var b=33;var a=34;var W=35;var R=36;var c=37;var U=38;var J=39;var F=40;var V=9;var I=32;var H=13;G.mix(A.Config,{aria:true});A.Plugins.push({name:"aria",init:function(f){if(!f.config.aria){return }var e=f.container,S=f.activeIndex;Z.attr(e,"aria-multiselectable",f.config.multiple?"true":"false");if(f.nav){Z.attr(f.nav,"role","tablist")}var j=f.triggers,g=f.panels;var h=0;G.each(g,function(i){if(!i.id){i.id=G.guid("ks-accordion-tab-panel")}});G.each(j,function(i){if(!i.id){i.id=G.guid("ks-accordion-tab")}});G.each(j,function(i){i.setAttribute("role","tab");i.setAttribute("aria-expanded",S==h?"true":"false");i.setAttribute("aria-selected",S==h?"true":"false");i.setAttribute("aria-controls",g[h].id);K(i,S==h?"0":"-1");h++});h=0;G.each(g,function(i){var k=j[h];i.setAttribute("role","tabpanel");i.setAttribute("aria-hidden",S==h?"false":"true");i.setAttribute("aria-labelledby",k.id);h++});f.on("switch",N,f);d.on(e,"keydown",O,f);d.on(e,"keypress",Y,f)}});var K=M.setTabIndex;function C(e){var f=this.triggers,S;G.each(f,function(g){if(g==e||Z.contains(g,e)){S=g}});return S}function E(f){var e=this.panels,S;G.each(e,function(g){if(g==f||Z.contains(g,f)){S=g}});return S}function B(S){var f=this.triggers,e=this.panels;return f[G.indexOf(S,e)]}function P(e){var S=this,f=C.call(S,e);if(!f){f=B.call(S,E.call(S,e))}return f}function Y(S){switch(S.keyCode){case b:case a:if(S.ctrlKey&&!S.altKey&&!S.shiftKey){S.halt()}break;case V:if(S.ctrlKey&&!S.altKey){S.halt()}break}}function O(k){var g=k.target,f=this,j,h=f.triggers;var i=!k.ctrlKey&&!k.shiftKey&&!k.altKey;var S=k.ctrlKey&&!k.shiftKey&&!k.altKey;switch(k.keyCode){case H:case I:if((j=C.call(f,g))&&i){X.call(f,j);k.halt()}break;case c:case U:if((j=C.call(f,g))){Q.call(f,j);k.halt()}break;case J:case F:if((j=C.call(f,g))){T.call(f,j);k.halt()}break;case a:if(S){k.halt();j=P.call(f,g);T.call(f,j)}break;case b:if(S){k.halt();j=P.call(f,g);Q.call(f,j)}break;case R:if(i){j=P.call(f,g);D.call(f,0);k.halt()}break;case W:if(i){j=P.call(f,g);D.call(f,h.length-1);k.halt()}break;case V:if(k.ctrlKey&&!k.altKey){k.halt();j=P.call(f,g);if(k.shiftKey){Q.call(f,j)}else{T.call(f,j)}}break}}function L(S,h){var e=this,g=e.triggers,f=g[S];G.each(g,function(i){if(i===f){return }K(i,"-1");Z.removeClass(i,"ks-switchable-select");i.setAttribute("aria-selected","false")});if(h){f.focus()}K(f,"0");Z.addClass(f,"ks-switchable-select");f.setAttribute("aria-selected","true")}function Q(e){var S=this,f=S.triggers,h=G.indexOf(e,f),g=h==0?f.length-1:h-1;L.call(S,g,true)}function D(S){L.call(this,S,true)}function T(e){var S=this,f=S.triggers,h=G.indexOf(e,f),g=(h==f.length-1?0:h+1);L.call(S,g,true)}function X(S){this.switchTo(G.indexOf(S,this.triggers))}function N(j){var g=!!(j.originalEvent.target||j.originalEvent.srcElement),k=this,m=k.config.multiple,l=j.currentIndex,h=k.panels,i=k.triggers,f=i[l],S=h[l];if(!m){G.each(h,function(n){if(n!==S){n.setAttribute("aria-hidden","true")}});G.each(i,function(n){if(n!==f){n.setAttribute("aria-hidden","true")}})}var e=S.getAttribute("aria-hidden");S.setAttribute("aria-hidden",e=="false"?"true":"false");f.setAttribute("aria-expanded",e=="false"?"false":"true");L.call(k,l,g)}},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/autoplay",function(C,B,A,D){C.mix(A.Config,{autoplay:false,interval:5,pauseOnHover:true});A.Plugins.push({name:"autoplay",init:function(H){var F=H.config,G=F.interval*1000,I;if(!F.autoplay){return }function E(){I=C.later(function(){if(H.paused){return }H.switchTo(H.activeIndex<H.length-1?H.activeIndex+1:0,"forward")},G,true)}E();H.stop=function(){if(I){I.cancel();I=D}H.paused=true};H.start=function(){if(I){I.cancel();I=D}H.paused=false;E()};if(F.pauseOnHover){B.on(H.container,"mouseenter",H.stop,H);B.on(H.container,"mouseleave",H.start,H)}}});return A},{requires:["event","./base"]});KISSY.add("switchable/autorender",function(B,C,D,A){A.autoRender=function(F,E){F="."+(F||"KS_Widget");C.query(F,E).each(function(J){var I=J.getAttribute("data-widget-type"),G;if(I&&("Switchable Tabs Slide Carousel Accordion".indexOf(I)>-1)){try{G=J.getAttribute("data-widget-config");if(G){G=G.replace(/'/g,'"')}new B[I](J,D.parse(G))}catch(H){B.log("Switchable.autoRender: "+H,"warn")}}})}},{requires:["dom","json","switchable/base"]});KISSY.add("switchable/carousel/base",function(C,J,I,K,B){var D="ks-switchable-",E=".",F="prevBtn",A="nextBtn",H={originalEvent:{target:1}};function G(L,N){var M=this;if(!(M instanceof G)){return new G(L,N)}G.superclass.constructor.apply(M,arguments)}G.Config={circular:true,prevBtnCls:D+"prev-btn",nextBtnCls:D+"next-btn",disableBtnCls:D+"disable-btn"};G.Plugins=[];C.extend(G,K,{_init:function(){var M=this;G.superclass._init.call(M);var L=M.config,N=L.disableBtnCls;C.each(["prev","next"],function(P){var O=M[P+"Btn"]=J.get(E+L[P+"BtnCls"],M.container);I.on(O,"mousedown",function(Q){Q.preventDefault();if(!J.hasClass(O,N)){M[P](H)}})});if(!L.circular){M.on("switch",function(Q){var O=Q.currentIndex,P=(O===0)?M[F]:(O===M.length-1)?M[A]:B;J.removeClass([M[F],M[A]],N);if(P){J.addClass(P,N)}})}I.on(M.panels,"click",function(){M.fire("itemSelected",{item:this})})}});return G},{requires:["dom","event","../base"]});KISSY.add("switchable/carousel/aria",function(D,W,Z,L,V){var Y=37;var U=38;var J=39;var C=40;var H=32;var G=13;var K=L.setTabIndex;var R={originalEvent:{target:1}};var N="forward",M="backward";function E(f){var h=this;var g=h.config.steps;var c=f.currentIndex;var i=h.activeIndex;var d=h.panels;var S=d[c*g];var e=h.triggers;var a=e[c];var b=!!(f.originalEvent.target||f.originalEvent.srcElement);if(b||i==-1){D.each(e,function(j){K(j,-1)});D.each(d,function(j){K(j,-1)});if(a){K(a,0)}K(S,0);if(b){S.focus()}}}function B(S){var a;D.each(this.triggers,function(b){if(b==S||W.contains(b,S)){a=b;return false}});return a}function T(b){var a=W.next(b),S=this.triggers;if(!a){a=S[0]}K(b,-1);if(a){K(a,0);a.focus()}}function Q(b){var a=W.prev(b),S=this.triggers;if(!a){a=S[S.length-1]}K(b,-1);if(a){K(a,0);a.focus()}}function A(b){var a=b.keyCode,S=b.target,d;switch(a){case C:case J:d=B.call(this,S);if(d){T.call(this,d);b.halt()}break;case U:case Y:d=B.call(this,S);if(d){Q.call(this,d);b.halt()}break;case G:case H:d=B.call(this,S);if(d){this.switchTo(D.indexOf(d,this.triggers),undefined,R);b.halt()}break}}function I(S){var a;D.each(this.panels,function(b){if(b==S||W.contains(b,S)){a=b;return false}});return a}function P(b){var a=W.next(b),S=this.panels;if(!a){a=S[0]}K(b,-1);K(a,0);if(X.call(this,a,N)){a.focus()}}function O(b){var a=W.prev(b),S=this.panels;if(!a){a=S[S.length-1]}K(b,-1);K(a,0);if(X.call(this,a,M)){a.focus()}}function X(d,c){var b=D.indexOf(d,this.panels),S=this.config.steps,a=Math.floor(b/S);if(a==this.activeIndex){return 1}if(b%S==0||b%S==S-1){this.switchTo(a,c,R);return 0}return 1}function F(b){var a=b.keyCode,S=b.target,d;switch(a){case C:case J:d=I.call(this,S);if(d){P.call(this,d);b.halt()}break;case U:case Y:d=I.call(this,S);if(d){O.call(this,d);b.halt()}break;case G:case H:d=I.call(this,S);if(d){this.fire("itemSelected",{item:d});b.halt()}break}}D.mix(V.Config,{aria:false});V.Plugins.push({name:"aria",init:function(g){if(!g.config.aria){return }var f=g.triggers;var e=g.panels;var d=g.content;var h=g.activeIndex;if(!d.id){d.id=D.guid("ks-switchbale-content")}d.setAttribute("role","listbox");var c=0;D.each(f,function(i){K(i,h==c?"0":"-1");i.setAttribute("role","button");i.setAttribute("aria-controls",d.id);c++});c=0;D.each(e,function(i){K(i,"-1");i.setAttribute("role","option");c++});g.on("switch",E,g);var S=g.nav;if(S){Z.on(S,"keydown",A,g)}Z.on(d,"keydown",F,g);var b=g.prevBtn,a=g.nextBtn;if(b){K(b,0);b.setAttribute("role","button");Z.on(b,"keydown",function(i){if(i.keyCode==G||i.keyCode==H){g.prev(R);i.preventDefault()}})}if(a){K(a,0);a.setAttribute("role","button");Z.on(a,"keydown",function(i){if(i.keyCode==G||i.keyCode==H){g.next(R);i.preventDefault()}})}}})},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/effect",function(F,Q,W,R,E,G){var O="display",V="block",I="none",N="opacity",D="z-index",L="position",T="relative",U="absolute",C="scrollx",A="scrolly",B="fade",J="left",M="top",K="float",H="px",P;F.mix(E.Config,{effect:I,duration:0.5,easing:"easeNone",nativeAnim:true});E.Effects={none:function(X,S,Y){if(X){Q.css(X,O,I)}Q.css(S,O,V);Y&&Y()},fade:function(b,S,c){if(b){if(b.length!==1){F.error("fade effect only supports steps == 1.")}}var Y=this,X=Y.config,a=b?b[0]:null,Z=S[0];if(Y.anim){Y.anim.stop();Q.css(Y.anim.fromEl,{zIndex:1,opacity:0});Q.css(Y.anim.toEl,"zIndex",9)}Q.css(Z,N,1);if(a){Y.anim=new R(a,{opacity:0},X.duration,X.easing,function(){Y.anim=G;Q.css(Z,D,9);Q.css(a,D,1);c&&c()},X.nativeAnim).run();Y.anim.toEl=Z;Y.anim.fromEl=a}else{Q.css(Z,D,9);c&&c()}},scroll:function(Z,S,c,X){var d=this,Y=d.config,e=Y.effect===C,b=d.viewSize[e?0:1]*X,a={};a[e?J:M]=-b+H;if(d.anim){d.anim.stop()}if(Z){d.anim=new R(d.content,a,Y.duration,Y.easing,function(){d.anim=G;c&&c()},Y.nativeAnim).run()}else{Q.css(d.content,a);c&&c()}}};P=E.Effects;P[C]=P[A]=P.scroll;E.Plugins.push({name:"effect",init:function(d){var X=d.config,g=X.effect,a=d.panels,Z=d.content,c=X.steps,e=d.activeIndex,Y=a.length;d.viewSize=[X.viewSize[0]||a[0].offsetWidth*c,X.viewSize[1]||a[0].offsetHeight*c];if(g!==I){Q.css(a,O,V);switch(g){case C:case A:Q.css(Z,L,U);if(Q.css(Z.parentNode,L)=="static"){Q.css(Z.parentNode,L,T)}if(g===C){Q.css(a,K,J);Q.width(Z,d.viewSize[0]*(Y/c))}break;case B:var S=e*c,b=S+c-1,f;F.each(a,function(h,j){f=j>=S&&j<=b;Q.css(h,{opacity:f?1:0,position:U,zIndex:f?9:1})});break}}}});F.augment(E,{_switchView:function(Z,S,X,c,b,d){var e=this,Y=e.config,f=Y.effect,a=F.isFunction(f)?f:P[f];a.call(e,Z,S,function(){e._fireOnSwitch(X,b);d&&d.call(e)},X,c)}});return E},{requires:["dom","event","anim","switchable/base"]});KISSY.add("switchable/circular",function(J,O,N,P){var M="position",K="relative",E="left",G="top",F="",H="px",D="forward",I="backward",C="scrollx",A="scrolly";J.mix(P.Config,{circular:false});function Q(Y,S,d,V,b){var f=this,W=f.config,X=f.length,e=f.activeIndex,g=W.scrollType===C,R=g?E:G,U=f.viewSize[g?0:1],c=-U*V,Z={},T,a=b===I;T=(a&&e===0&&V===X-1)||(b===D&&e===X-1&&V===0);if(T){c=B.call(f,f.panels,V,a,R,U)}Z[R]=c+H;if(f.anim){f.anim.stop()}if(Y){f.anim=new N(f.content,Z,W.duration,W.easing,function(){if(T){L.call(f,f.panels,V,a,R,U)}f.anim=undefined;d&&d()},W.nativeAnim).run()}else{O.css(f.content,Z);d&&d()}}function B(Z,W,a,R,X){var e=this,Y=e.config,b=Y.steps,V=e.length,S=a?V-1:0,d=S*b,c=(S+1)*b,T;var U=Z.slice(d,c);O.css(U,M,K);O.css(U,R,(a?-1:1)*X*V);return a?X:-X*V}function L(Z,W,a,R,X){var e=this,Y=e.config,b=Y.steps,V=e.length,S=a?V-1:0,d=S*b,c=(S+1)*b,T;var U=Z.slice(d,c);O.css(U,M,F);O.css(U,R,F);O.css(e.content,R,a?-X*(V-1):F)}P.Plugins.push({name:"circular",init:function(S){var R=S.config;if(R.circular&&(R.effect===C||R.effect===A)){R.scrollType=R.effect;R.effect=Q}}})},{requires:["dom","anim","./base","./effect"]});KISSY.add("switchable/countdown",function(B,I,H,D,J,A){var C="ks-switchable-trigger-",G=C+"mask",E=C+"content",F="style";B.mix(J.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});J.Plugins.push({name:"countdown",init:function(T){var Q=T.config,P,K=Q.interval,R=T.triggers,U=[],N=Q.countdownFromStyle,S=Q.countdownToStyle,O;if(!Q.autoplay||!Q.hasTriggers||!Q.countdown){return }B.each(R,function(V,W){V.innerHTML='<div class="'+G+'"></div><div class="'+E+'">'+V.innerHTML+"</div>";U[W]=V.firstChild});if(Q.pauseOnHover){H.on(T.container,"mouseenter",function(){L();var V=U[T.activeIndex];if(N){O=new D(V,N,0.2,"easeOut").run()}else{I.attr(V,F,"")}});H.on(T.container,"mouseleave",function(){L();var V=T.activeIndex;I.attr(U[V],F,N);P=setTimeout(function(){M(V)},200)})}T.on("beforeSwitch",function(){L();if(U[T.activeIndex]){I.attr(U[T.activeIndex],F,N||"")}});T.on("switch",function(V){if(!T.paused){M(V.currentIndex)}});function M(V){L();O=new D(U[V],S,K-1).run()}function L(){if(P){clearTimeout(P);P=null}if(O){O.stop();O=A}}if(T.activeIndex>-1){M(T.activeIndex)}}});return J},{requires:["dom","event","anim","./base"]});KISSY.add("switchable/lazyload",function(F,G,C){var D="beforeSwitch",E="img",A="textarea",B={};B[E]="data-ks-lazyload-custom";B[A]="ks-datalazyload-custom";F.mix(C.Config,{lazyDataType:A});C.Plugins.push({name:"lazyload",init:function(M){var L=F.require("datalazyload"),I=M.config,K,H;if(I.lazyDataType==="img-src"){I.lazyDataType=E}if(I.lazyDataType==="area-data"){I.lazyDataType=A}K=I.lazyDataType;H=B[K];if(!L||!K||!H){return }M.on(D,N);function N(P){var O=I.steps,R=P.toIndex*O,Q=R+O;L.loadCustomLazyData(M.panels.slice(R,Q),K);if(J()){M.detach(D,N)}}function J(){var Q,P=K===E,S=P?"img":(K===A?"textarea":"");if(S){Q=G.query(S,M.container);for(var R=0,O=Q.length;R<O;R++){var T=Q[R];if(P?G.attr(T,H):G.hasClass(T,H)){return false}}}return true}}});return C},{requires:["dom","./base"]});KISSY.add("switchable/slide/base",function(B,A){function C(D,F){var E=this;if(!(E instanceof C)){return new C(D,F)}C.superclass.constructor.apply(E,arguments)}C.Config={autoplay:true,circular:true};C.Plugins=[];B.extend(C,A);return C},{requires:["../base"]});KISSY.add("switchable/slide/aria",function(E,L,J,A,C){var B=37;var F=38;var K=39;var H=40;E.mix(C.Config,{aria:false});var I={originalEvent:{target:1}};var G=A.setTabIndex;C.Plugins.push({name:"aria",init:function(N){if(!N.config.aria){return }var Q=N.triggers;var O=N.panels;var P=0;var M=N.activeIndex;E.each(Q,function(S){G(S,"-1");P++});P=0;E.each(O,function(S){G(S,M==P?"0":"-1");L.attr(S,"role","option");P++});var R=N.content;L.attr(R,"role","listbox");J.on(R,"keydown",D,N);G(O[0],0);N.on("switch",function(V){var S=V.currentIndex,T=!!(V.originalEvent.target||V.originalEvent.srcElement),U=N.completedIndex;if(U>-1){G(O[U],-1)}G(O[S],0);if(T){O[S].focus()}})}});function D(O){var M=this,N=O.keyCode;switch(N){case H:case K:M.next(I);O.halt();break;case F:case B:M.prev(I);O.halt();break}}},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/tabs/base",function(C,B){function A(D,F){var E=this;if(!(E instanceof A)){return new A(D,F)}A.superclass.constructor.call(E,D,F);return 0}C.extend(A,B);A.Config={};A.Plugins=[];return A},{requires:["../base"]});KISSY.add("switchable/tabs/aria",function(E,Q,V,B,H,A){var T=33;var R=34;var O=35;var L=36;var U=37;var M=38;var F=39;var D=40;var N=9;E.mix(A.Config,{aria:true});A.Plugins.push({name:"aria",init:function(X){if(!X.config.aria){return }var a=X.triggers,S=X.activeIndex,Y=X.panels;var W=X.container;if(X.nav){Q.attr(X.nav,"role","tablist")}var Z=0;E.each(a,function(b){b.setAttribute("role","tab");G(b,S==Z?"0":"-1");if(!b.id){b.id=E.guid("ks-switchable")}Z++});Z=0;E.each(Y,function(b){var c=a[Z];b.setAttribute("role","tabpanel");b.setAttribute("aria-hidden",S==Z?"false":"true");b.setAttribute("aria-labelledby",c.id);Z++});X.on("switch",I,X);V.on(W,"keydown",J,X);V.on(W,"keypress",P,X)}});var G=H.setTabIndex;function C(W){var X=this.triggers,S;E.each(X,function(Y){if(Y==W||Q.contains(Y,W)){S=Y}});return S}function P(S){switch(S.keyCode){case T:case R:if(S.ctrlKey&&!S.altKey&&!S.shiftKey){S.halt()}break;case N:if(S.ctrlKey&&!S.altKey){S.halt()}break}}var K=B.getDomEvent;function J(a){var X=a.target,W=this;var Y=W.triggers;var Z=!a.ctrlKey&&!a.shiftKey&&!a.altKey;var S=a.ctrlKey&&!a.shiftKey&&!a.altKey;switch(a.keyCode){case U:case M:if(C.call(W,X)){W.prev(K(a));a.halt()}break;case F:case D:if(C.call(W,X)){W.next(K(a));a.halt()}break;case R:if(S){a.halt();W.next(K(a))}break;case T:if(S){a.halt();W.prev(K(a))}break;case N:if(a.ctrlKey&&!a.altKey){a.halt();if(a.shiftKey){W.prev(K(a))}else{W.next(K(a))}}break}}function I(a){var Z=!!(a.originalEvent.target||a.originalEvent.srcElement);var b=this;var Y=b.completedIndex;var c=a.currentIndex;if(Y==c){return }var X=b.triggers[Y];var W=b.triggers[c];var d=b.panels[Y];var S=b.panels[c];if(X){G(X,"-1")}G(W,"0");if(Z){W.focus()}if(d){d.setAttribute("aria-hidden","true")}S.setAttribute("aria-hidden","false")}},{requires:["dom","event","../base","../aria","./base"]});KISSY.add("switchable",function(D,C,G,B,J,H,N,Q,P,R,I,K,O,F,L,A,E){D.Switchable=C;var M={Accordion:B,Carousel:Q,Slide:F,Tabs:A};D.mix(D,M);D.mix(C,M);return C},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base","switchable/tabs/aria"]});